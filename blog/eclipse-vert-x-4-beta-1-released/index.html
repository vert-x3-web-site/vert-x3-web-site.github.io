<!DOCTYPE html><html lang=en><head><title>Eclipse Vert.x 4 beta 1 released!</title><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta content="width=device-width,initial-scale=1" name=viewport><meta content="Eclipse Vert.x is a tool-kit for building reactive applications on the JVM." name=description><link href=https://vertx.io/stylesheets/main.css media=screen rel=stylesheet><link href=https://vertx.io/stylesheets/font-awesome.min.css media=screen rel=stylesheet><link href=https://vertx.io/javascripts/styles/rainbow.min.css media=screen rel=stylesheet><!--[if lt IE 9]><script src="http://static.jboss.org/theme/js/libs/html5/pre3.6/html5.min.js"></script><![endif]--><link rel=apple-touch-icon sizes=57x57 href=https://vertx.io/assets/favicons/vertx-favicon-7/apple-touch-icon-57x57.png><link rel=apple-touch-icon sizes=60x60 href=https://vertx.io/assets/favicons/vertx-favicon-7/apple-touch-icon-60x60.png><link rel=apple-touch-icon sizes=72x72 href=https://vertx.io/assets/favicons/vertx-favicon-7/apple-touch-icon-72x72.png><link rel=apple-touch-icon sizes=76x76 href=https://vertx.io/assets/favicons/vertx-favicon-7/apple-touch-icon-76x76.png><link rel=apple-touch-icon sizes=114x114 href=https://vertx.io/assets/favicons/vertx-favicon-7/apple-touch-icon-114x114.png><link rel=apple-touch-icon sizes=120x120 href=https://vertx.io/assets/favicons/vertx-favicon-7/apple-touch-icon-120x120.png><link rel=apple-touch-icon sizes=144x144 href=https://vertx.io/assets/favicons/vertx-favicon-7/apple-touch-icon-144x144.png><link rel=apple-touch-icon sizes=152x152 href=https://vertx.io/assets/favicons/vertx-favicon-7/apple-touch-icon-152x152.png><link rel=apple-touch-icon sizes=180x180 href=https://vertx.io/assets/favicons/vertx-favicon-7/apple-touch-icon-180x180.png><link rel=icon type=image/png href=https://vertx.io/assets/favicons/vertx-favicon-7/favicon-32x32.png sizes=32x32><link rel=icon type=image/png href=https://vertx.io/assets/favicons/vertx-favicon-7/android-chrome-192x192.png sizes=192x192><link rel=icon type=image/png href=https://vertx.io/assets/favicons/vertx-favicon-7/favicon-96x96.png sizes=96x96><link rel=icon type=image/png href=https://vertx.io/assets/favicons/vertx-favicon-7/favicon-16x16.png sizes=16x16><link rel=manifest href=https://vertx.io/assets/favicons/vertx-favicon-7/manifest.json><link rel=mask-icon href=https://vertx.io/assets/favicons/vertx-favicon-7/safari-pinned-tab.svg color=#5bbad5><meta name=msapplication-TileColor content=#7d3194><meta name=msapplication-TileImage content=https://vertx.io/assets/favicons/vertx-favicon-7/mstile-144x144.png><meta name=theme-color content=#ffffff><link href="https://fonts.googleapis.com/css?family=Ubuntu:400,500,700,400italic" rel=stylesheet type=text/css><link rel=alternate type=application/rss+xml title=RSS href=https://vertx.io/feed.xml><script>(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
    ga('create', 'UA-30144458-1', 'auto');
    ga('create', 'UA-71153120-1', 'auto', 'tracker');
    ga('send', 'pageview');
    ga('tracker.send', 'pageview');</script></head><body><a href="http://www.reactivemanifesto.org/" id=reactive-manifesto-banner><img style="border: 0; position: fixed; right: 0; top:0; z-index: 9000" src=https://d379ifj7s9wntv.cloudfront.net/reactivemanifesto/images/ribbons/we-are-reactive-black-right.png></a> <a id=skippy class="sr-only sr-only-focusable" href=#content><div class=container><span class=skiplink-text>Skip to main content</span></div></a><header class="navbar navbar-default navbar-static-top" id=top role=banner><div class=container><div class=navbar-header><button class="navbar-toggle collapsed" type=button data-toggle=collapse data-target=#vertx-navbar-collapse><span class=sr-only>Toggle navigation</span> <span class=icon-bar></span> <span class=icon-bar></span> <span class=icon-bar></span></button> <a href="https://vertx.io/" class=navbar-brand><img alt=Brand src=https://vertx.io/assets/logo-sm.png></a></div><nav class="collapse navbar-collapse" id=vertx-navbar-collapse><ul class="nav navbar-nav navbar-right"><li><a href="https://start.vertx.io/">Starter</a></li><li><a href="https://vertx.io/download/">Download</a></li><li><a href="https://how-to.vertx.io/">How-to</a></li><li><a href="https://vertx.io/docs/">Documentation</a></li><li><a href=https://github.com/vert-x3/wiki/wiki>Wiki</a></li><li><a href="https://vertx.io/community/">Community</a></li><li><a href="https://vertx.io/materials/">Materials</a></li><li><a href="https://vertx.io/blog/">Blog</a></li></ul></nav></div></header><div class=container><div class="row blog"><article class="col-xs-12 blog-post"><h2 class=blog-post-title>Eclipse Vert.x 4 beta 1 released!</h2><p class=blog-post-meta>28th July 2020 by <a href=http://github.com/vietj>vietj</a></p><article><p>We are extremely pleased to announce the first 4.0 beta release of Eclipse Vert.x .</p><p>Vert.x 4 is the evolution of the Vert.x 3.x series that will bring key features to Vert.x.</p><h4 id=sql-client-metrics>SQL client metrics</h4><p>Vert.x 4 supports metrics for clients which are critical for monitoring application performance.</p><p>While the capabilities are generic and can apply to any client, each client needs a specific integration. Obviously the SQL client was the perfect candidate in mind for this new feature.</p><p>Micrometer metrics will report these metrics as</p><ul><li>vertx_sql_queue_pending: number of requests scheduled but not yet executed</li><li>vertx_sql_queue_time: time spent in queue before processing</li><li>vertx_sql_processing_pending: number of request being processed</li><li>vertx_sql_processing_time: requests latencies</li></ul><h4 id=a-better-api-for-jdbc-client>A better API for JDBC Client</h4><p>Our JDBC client will not go away in Vert.x 4, we do recknognize that JDBC is important because it supports the most important number of databases in the ecosystem.</p><p>When we designed the SQL client API we strived a lot to come with the simplest and most powerful API for asynchonous SQL client.</p><p>This release brings an implementation of the SQL client API for JDBC.</p><p>The 3.x API series will continue to be supported for the lifetime of Vert.x 4.</p><h4 id=event-loop-affinity>Event loop affinity</h4><p>Using Vert.x from a non Vert.x thread is a very common use case we have been supporting since Vert.x 3.</p><p>When you use a Vert.x resource (like a client) from a non Vert.x thread, Vert.x 3 obtains a new event-loop everytime it happens.</p><p>In Vert.x 4 we decided to pin the first event loop to the non Vert.x thread. The goal is to prevent some data races and also makes reasonning about this easier.</p><pre><code class=hljs>Vertx vertx = Vertx.vertx();

<span class=hljs-keyword>for</span> (<span class=hljs-built_in>int</span> i = <span class=hljs-number>0</span>;i &lt; <span class=hljs-number>4</span>;i++) {
  <span class=hljs-keyword>String</span> msg = <span class=hljs-string>"Message "</span> + i;
  vertx.runOnContext(v -&gt; {
    System.out.<span class=hljs-built_in>println</span>(i);
  });
}</code></pre><p>Running this with Vert.x 3 will print the 4 lines but they are likely to not be reordered, this code could also be running in parallel (that is two different threads running at the same time on a different CPU core).</p><p>Running this with Vert.x 4 will print the 4 lines in the correct order and always with the same thread. This eliminates some potential data races and also allows to reason about what will happen at runtime.</p><h4 id=vert-x-json-schema-supports-draft2019-09>Vert.x Json Schema supports Draft2019-09</h4><p>The new <a href=https://github.com/eclipse-vertx/vertx-json-schema>vertx-json-schema</a> module now supports the latest Json Schema <a href=http://json-schema.org/specification.html>Draft2019-09 spec</a>. You can finally play with the new <code>$recursiveRef</code> to build extensible recursive schemas and with <code>unevaluatedProperties</code>/<code>unevaluatedItems</code> to define strict schemas. Look at the module <a href="https://vertx-web-site.github.io/docs/vertx-json-schema/java/">documentation</a> to start using it.</p><h4 id=clustering-configuration-simplified>Clustering configuration simplified</h4><p>In Vert.x 3, cluster host was set to <code>localhost</code> by default in <code>EventBusOptions</code>. Consequently, a lot of new users were confused about why event bus consumers and producers were not able to communicate even if the underlying cluster manager was configured correctly.</p><p>Also, when using the CLI tool or the <code>Launcher</code> class, Vert.x tried to find a host among available network interfaces if none was provided with the <code>-cluster-host</code> argument. Sometimes, the host chosen by the cluster manager and Vert.x were not the same.</p><p>Starting with Vert.x 4 beta 1, the cluster host default has been removed and, if users don’t provide any, Vert.x will ask the cluster manager which one it picked before trying to find one itself. This applies whether Vert.x is embedded in any Java program or started with the CLI tool or with the <code>Launcher</code> class.</p><p>So far, only <code>vertx-hazelcast</code> and <code>vertx-infinispan</code> cluster managers can provide Vert.x with a cluster host. When other cluster managers are used, Vert.x will choose one itself.</p><h4 id=cluster-manager-upgrades>Cluster manager upgrades</h4><p><code>vertx-hazelcast</code> has been upgraded to Hazelcast 4.0.2 and <code>vertx-infinispan</code> to Infinispan 11.0.1.Final.</p><h4 id=finally>Finally</h4><p>This is the Beta1 relase of Vert.x 4, you can of course expect more betas as we get feedback from the community and fix issues that we failed to catch before.</p><p>You can also read the milestone announces to know more about the overral changes:</p><ul><li><a href=https://vertx.io/blog/eclipse-vert-x-4-milestone-5-released>https://vertx.io/blog/eclipse-vert-x-4-milestone-5-released</a></li><li><a href=https://vertx.io/blog/eclipse-vert-x-4-milestone-4-released>https://vertx.io/blog/eclipse-vert-x-4-milestone-4-released</a></li><li><a href=https://vertx.io/blog/eclipse-vert-x-4-milestone-3-released>https://vertx.io/blog/eclipse-vert-x-4-milestone-3-released</a></li><li><a href=https://vertx.io/blog/eclipse-vert-x-4-milestone-2-released>https://vertx.io/blog/eclipse-vert-x-4-milestone-2-released</a></li><li><a href=https://vertx.io/blog/eclipse-vert-x-4-milestone-1-released>https://vertx.io/blog/eclipse-vert-x-4-milestone-1-released</a></li></ul><p>The <a href=https://github.com/vert-x3/wiki/wiki/4.0.0-Deprecations-and-breaking-changes>deprecations and breaking changes</a> can be found on the wiki.</p><p>For this release there are no Docker images.</p><p>The release artifacts have been deployed to <a href="https://search.maven.org/search?q=g:io.vertx%20AND%20v:4.0.0.Beta1">Maven Central</a> and you can get the distribution on <a href="https://repo1.maven.org/maven2/io/vertx/vertx-stack-manager/4.0.0.Beta1/">Maven Central</a>.</p><p>You can bootstrap a Vert.x 4.0.0.Beta1 project using <a href=https://start.vertx.io>https://start.vertx.io</a>.</p><p>The documentation has been deployed on this preview web-site <a href="https://vertx-web-site.github.io/docs/">https://vertx-web-site.github.io/docs/</a></p><p>That’s it! Happy coding and see you soon on our user or dev <a href=https://vertx.io/community>channels</a>.</p></article></article></div></div><footer><div class=container><div class=row><div class="col-xs-4 col-sm-4 col-md-2 col-lg-2"><h2>Eclipse Vert.x</h2><ul class=list-unstyled><li><a href="https://vertx.io/">Home</a></li><li><a href="https://vertx.io/download/">Download</a></li><li><a href="https://vertx.io/docs/">Documentation</a></li><li><a href=https://github.com/vert-x3/wiki/wiki>Wiki</a></li><li><a href="https://vertx.io/blog/">Blog</a></li><li><a href="https://vertx.io/vertx2/" class=vertx-2-link>Vert.x 2</a></li></ul></div><div class="col-xs-4 col-sm-4 col-md-2 col-lg-2"><h2>Community</h2><ul class=list-unstyled><li><a href="https://vertx.io/community/">Help &amp; Contributors</a></li><li><a href="https://vertx.io/materials/">Learning materials</a></li><li><a href=https://groups.google.com/forum/?fromgroups#!forum/vertx>User Group</a></li><li><a href=https://groups.google.com/forum/?fromgroups#!forum/vertx-dev>Developer Group</a></li></ul></div><div class="col-xs-4 col-sm-4 col-md-2 col-lg-2"><h2>Eclipse</h2><ul class=list-unstyled><li><a href="http://www.eclipse.org/">Eclipse Foundation</a></li><li><a href=https://eclipse.org/legal/privacy.php>Privacy Policy</a></li><li><a href=https://eclipse.org/legal/termsofuse.php>Terms of Use</a></li><li><a href=https://eclipse.org/legal/copyright.php>Copyright Agent</a></li><li><a href=http://www.eclipse.org/legal>Legal Resources</a></li></ul></div><div class="col-xs-12 col-sm-12 col-md-6 col-lg-6 copyright"><p>Eclipse Vert.x is open source and dual-licensed under the <a href=http://www.eclipse.org/legal/epl-v20.html>Eclipse Public License 2.0</a> and <a href=https://www.apache.org/licenses/LICENSE-2.0.html>Apache License 2.0</a>.</p><p>This website is licensed under the <a href="http://creativecommons.org/licenses/by-sa/3.0/">CC BY-SA 3.0 License</a>.<br>Design by <a href=https://www.michel-kraemer.com>Michel Kr&auml;mer</a>.</p><div class=row><div class="col-sm-12 col-md-5 col-md-offset-1 col-lg-offset-2"><a href=http://eclipse.org><img class="logo eclipse-logo" src=https://vertx.io/assets/eclipse_logo_grey_small.png width=204 height=48></a></div><div class="col-sm-12 col-md-5 col-md-offset-1 col-lg-offset-0"><a href=http://cloudbees.com><img class="logo cloudbees-logo" src=https://vertx.io/assets/Button-Built-on-CB-1-grey.png width=180 height=48></a></div><div class="col-sm-12 col-md-5 col-md-offset-7 jprofiler"><a href=http://www.ej-technologies.com/products/jprofiler/overview.html style=text-decoration:none><img class="logo jprofiler-logo" src=https://vertx.io/assets/jprofiler-logo.png width=48 height=48><span class=jprofiler-logo>&nbsp; JPROFILER</span></a></div></div></div></div></div></footer><script src=https://cdnjs.cloudflare.com/ajax/libs/jquery/1.9.1/jquery.min.js></script><script src=https://vertx.io/javascripts/bootstrap.min.js></script><script src=https://vertx.io/javascripts/highlight.pack.js></script><script>hljs.initHighlightingOnLoad();</script><link rel=stylesheet type=text/css href="//cdnjs.cloudflare.com/ajax/libs/cookieconsent2/3.0.3/cookieconsent.min.css"><script src=//cdnjs.cloudflare.com/ajax/libs/cookieconsent2/3.0.3/cookieconsent.min.js></script><script>window.addEventListener("load", function(){
window.cookieconsent.initialise({
  "palette": {
    "popup": {
      "background": "#64386b",
      "text": "#ffcdfd"
    },
    "button": {
      "background": "transparent",
      "text": "#f8a8ff",
      "border": "#f8a8ff"
    }
  },
  "content": {
    "message": "This website uses anonymous cookies to ensure we provide you the best experience. ",
    "link": "Opt out!",
    "href": "https://tools.google.com/dlpage/gaoptout/"
  }
})});</script></body></html>