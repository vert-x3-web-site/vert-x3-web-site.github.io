<!DOCTYPE html><html lang=en><head><title>Vert.x3 says &quot;hello&quot; to NPM users</title><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta content="width=device-width,initial-scale=1" name=viewport><meta content="Eclipse Vert.x is a tool-kit for building reactive applications on the JVM." name=description><link href=https://vertx.io/preview/stylesheets/main.css media=screen rel=stylesheet><link href=https://vertx.io/preview/stylesheets/font-awesome.min.css media=screen rel=stylesheet><link href=https://vertx.io/preview/javascripts/styles/rainbow.min.css media=screen rel=stylesheet><!--[if lt IE 9]><script src="http://static.jboss.org/theme/js/libs/html5/pre3.6/html5.min.js"></script><![endif]--><link rel=apple-touch-icon sizes=57x57 href=https://vertx.io/preview/assets/favicons/vertx-favicon-7/apple-touch-icon-57x57.png><link rel=apple-touch-icon sizes=60x60 href=https://vertx.io/preview/assets/favicons/vertx-favicon-7/apple-touch-icon-60x60.png><link rel=apple-touch-icon sizes=72x72 href=https://vertx.io/preview/assets/favicons/vertx-favicon-7/apple-touch-icon-72x72.png><link rel=apple-touch-icon sizes=76x76 href=https://vertx.io/preview/assets/favicons/vertx-favicon-7/apple-touch-icon-76x76.png><link rel=apple-touch-icon sizes=114x114 href=https://vertx.io/preview/assets/favicons/vertx-favicon-7/apple-touch-icon-114x114.png><link rel=apple-touch-icon sizes=120x120 href=https://vertx.io/preview/assets/favicons/vertx-favicon-7/apple-touch-icon-120x120.png><link rel=apple-touch-icon sizes=144x144 href=https://vertx.io/preview/assets/favicons/vertx-favicon-7/apple-touch-icon-144x144.png><link rel=apple-touch-icon sizes=152x152 href=https://vertx.io/preview/assets/favicons/vertx-favicon-7/apple-touch-icon-152x152.png><link rel=apple-touch-icon sizes=180x180 href=https://vertx.io/preview/assets/favicons/vertx-favicon-7/apple-touch-icon-180x180.png><link rel=icon type=image/png href=https://vertx.io/preview/assets/favicons/vertx-favicon-7/favicon-32x32.png sizes=32x32><link rel=icon type=image/png href=https://vertx.io/preview/assets/favicons/vertx-favicon-7/android-chrome-192x192.png sizes=192x192><link rel=icon type=image/png href=https://vertx.io/preview/assets/favicons/vertx-favicon-7/favicon-96x96.png sizes=96x96><link rel=icon type=image/png href=https://vertx.io/preview/assets/favicons/vertx-favicon-7/favicon-16x16.png sizes=16x16><link rel=manifest href=https://vertx.io/preview/assets/favicons/vertx-favicon-7/manifest.json><link rel=mask-icon href=https://vertx.io/preview/assets/favicons/vertx-favicon-7/safari-pinned-tab.svg color=#5bbad5><meta name=msapplication-TileColor content=#7d3194><meta name=msapplication-TileImage content=https://vertx.io/preview/assets/favicons/vertx-favicon-7/mstile-144x144.png><meta name=theme-color content=#ffffff><link href="https://fonts.googleapis.com/css?family=Ubuntu:400,500,700,400italic" rel=stylesheet type=text/css><link rel=alternate type=application/rss+xml title=RSS href=https://vertx.io/preview/feed.xml><script>(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
    ga('create', 'UA-30144458-1', 'auto');
    ga('create', 'UA-71153120-1', 'auto', 'tracker');
    ga('send', 'pageview');
    ga('tracker.send', 'pageview');</script></head><body><a href="http://www.reactivemanifesto.org/" id=reactive-manifesto-banner><img style="border: 0; position: fixed; right: 0; top:0; z-index: 9000" src=https://d379ifj7s9wntv.cloudfront.net/reactivemanifesto/images/ribbons/we-are-reactive-black-right.png></a> <a id=skippy class="sr-only sr-only-focusable" href=#content><div class=container><span class=skiplink-text>Skip to main content</span></div></a><header class="navbar navbar-default navbar-static-top" id=top role=banner><div class=container><div class=navbar-header><button class="navbar-toggle collapsed" type=button data-toggle=collapse data-target=#vertx-navbar-collapse><span class=sr-only>Toggle navigation</span> <span class=icon-bar></span> <span class=icon-bar></span> <span class=icon-bar></span></button> <a href="https://vertx.io/preview/" class=navbar-brand><img alt=Brand src=https://vertx.io/preview/assets/logo-sm.png></a></div><nav class="collapse navbar-collapse" id=vertx-navbar-collapse><ul class="nav navbar-nav navbar-right"><li><a href=http://start.vertx.io>Starter</a></li><li><a href="https://vertx.io/preview/download/">Download</a></li><li><a href="https://vertx.io/preview/docs/">Documentation</a></li><li><a href=https://github.com/vert-x3/wiki/wiki>Wiki</a></li><li><a href="https://vertx.io/preview/community/">Community</a></li><li><a href="https://vertx.io/preview/materials/">Materials</a></li><li><a href="https://vertx.io/preview/blog/">Blog</a></li></ul></nav></div></header><div class=container><div class="row blog"><article class="col-xs-12 blog-post"><h2 class=blog-post-title>Vert.x3 says &quot;hello&quot; to NPM users</h2><p class=blog-post-meta>13th July 2015 by <a href=http://github.com/pmlopes>pmlopes</a></p><article><p>In programming literature it has become the standard to create a hello world program as the first example. In this article I’ll be demonstrating how <code>NPM</code> users can quickly get started with <code>vert.x</code>. You will see that it is not that different and in fact it can be done using the tools you’re used to. Note that although we are using <code>NPM</code> we are not relying on <code>node.js</code>, all <code>javascript</code> code runs on the <code>JVM</code>.</p><h2 id=hello-world-examples>Hello World Examples</h2><p>Here are four simple hello world examples. The comments in the code explain how the code works and the text around it explain what it does and how to test it.</p><h2 id=hello-console>Hello Console</h2><p>This example is about as plain as it can get. It prints the words “<code>Hello World</code>“ to the terminal. If you’re a javascript developer you should be already used to <code>npm</code> and know that you always start a project with the file <code>package.json</code>:</p><pre><code class="hljs javascript">{
  <span class=hljs-string>"name"</span>: <span class=hljs-string>"vertx3-hello-console"</span>,
  <span class=hljs-string>"private"</span>: <span class=hljs-literal>true</span>,
  <span class=hljs-string>"dependencies"</span>: {
    <span class=hljs-string>"vertx3-min"</span>: <span class=hljs-string>"3.0.0-1"</span>
  },
  <span class=hljs-string>"scripts"</span>: {
    <span class=hljs-string>"start"</span>: <span class=hljs-string>"./node_modules/.bin/vertx run server.js"</span>
  }
}</code></pre><p>Note that we have a dependency wich is obvious <code>vert.x</code> now note that there are 3 flavours of this dependency:</p><ul><li><a href=https://www.npmjs.com/package/vertx3-min>min</a></li><li><a href=https://www.npmjs.com/package/vertx3-base>base</a></li><li><a href=https://www.npmjs.com/package/vertx3-full>full</a></li></ul><p>According to your needs you can pick a different flavour, since for a simple hello world we only need the minimal that is the one we add to the dependency property.</p><p>Now we need to do a simple hello app, we will call this file “<code>server.js</code>“:</p><pre><code class="hljs javascript"><span class=hljs-comment>// Call the console.log function.</span>
<span class=hljs-built_in>console</span>.log(<span class=hljs-string>"Hello World"</span>);</code></pre><p>You can run this by executing:</p><pre><code class="hljs bash">npm install
npm start</code></pre><p>The first command retrieve the vert.x stack while the seconds starts your program.</p><h2 id=hello-http>Hello HTTP</h2><p>I’d guess that while it’s not the only use case for <code>vert.x</code>, most people are using it as a web application platform. So the next example will be a simple HTTP server that responds to every request with the plain text message “<code>Hello World</code>“ <code>server.js</code>:</p><pre><code class="hljs javascript">vertx.createHttpServer()
  .requestHandler(<span class=hljs-function><span class=hljs-keyword>function</span> <span class=hljs-params>(req)</span> </span>{
    req.response()
      .putHeader(<span class=hljs-string>"content-type"</span>, <span class=hljs-string>"text/plain"</span>)
      .end(<span class=hljs-string>"Hello World!"</span>);
}).listen(<span class=hljs-number>8080</span>);</code></pre><p>Now you can reuse the same <code>package.json</code> we’ve just defined in the previous section and start the server with <code>npm start</code>. Once the server starts you can open a browser to <code>http://localhost:8080</code> and enjoy the message.</p><h2 id=hello-tcp>Hello TCP</h2><p><code>Vert.x</code> also makes an excellent TCP server, and here is an example that responds to all TCP connections with the message “Hello World” and then closes the connection <code>server.js</code>:</p><pre><code class="hljs javascript"><span class=hljs-keyword>var</span> server = vertx.createNetServer();
server.connectHandler(<span class=hljs-function><span class=hljs-keyword>function</span> <span class=hljs-params>(socket)</span> </span>{
  socket.write(<span class=hljs-string>"Hello World!\n"</span>);
  socket.close();
});

server.listen(<span class=hljs-number>7000</span>, <span class=hljs-string>"localhost"</span>);</code></pre><p>Again reuse the previous <code>package.json</code> and test it by doing <code>telnet localhost 7000</code>.</p><h2 id=hello-web>Hello Web</h2><p>Often you won’t be using <code>vert.x</code> built-in libraries because they are designed to be very low level. This makes <code>vert.x</code> quick, nimble, and easy to maintain, but if you are planning to build a complex application you want some productivity and rely on a simple web framework. For this specific case there is <code>vert.x web</code>, <a href=http://vertx.io/docs/#web>a simple, yet productive framework</a>, to build fast web application with routing, template rendering, lots of middleware etc…usually not enough to get started on a real world application. This example shows an HTTP server that responds with “Hello World” to all requests to “/“ and responds with a 404 error to everything else <code>server.js</code>:</p><pre><code class="hljs javascript"><span class=hljs-keyword>var</span> Router = <span class=hljs-built_in>require</span>(<span class=hljs-string>"vertx-web-js/router"</span>);
<span class=hljs-keyword>var</span> server = vertx.createHttpServer();

<span class=hljs-keyword>var</span> router = Router.router(vertx);

router.get(<span class=hljs-string>"/"</span>).handler(<span class=hljs-function><span class=hljs-keyword>function</span> <span class=hljs-params>(ctx)</span> </span>{
  <span class=hljs-comment>// This handler will be called for "/" requests</span>
  <span class=hljs-keyword>var</span> response = ctx.response();
  response.putHeader(<span class=hljs-string>"content-type"</span>, <span class=hljs-string>"text/plain"</span>);

  <span class=hljs-comment>// Write to the response and end it</span>
  response.end(<span class=hljs-string>"Hello World!"</span>);
});

server.requestHandler(router.accept).listen(<span class=hljs-number>8080</span>);</code></pre><p>In order to test this, you will need to install the <code>vertx3-full</code> stack. There are two ways to do this. You can either install it globally <code>npm install -g vertx3-full</code> or add it as a dependency to our <code>package.json</code> as we have done before, for example <code>package.json</code>:</p><pre><code class="hljs javascript">{
  <span class=hljs-string>"name"</span>: <span class=hljs-string>"vertx3-hello-web"</span>,
  <span class=hljs-string>"private"</span>: <span class=hljs-literal>true</span>,
  <span class=hljs-string>"dependencies"</span>: {
    <span class=hljs-string>"vertx3-full"</span>: <span class=hljs-string>"3.0.0-1"</span>
  },
  <span class=hljs-string>"scripts"</span>: {
    <span class=hljs-string>"start"</span>: <span class=hljs-string>"./node_modules/.bin/vertx run server.js"</span>
  }
}</code></pre><p>That’s it for now. Hopefully this will help you get started working with <code>vert.x</code>!</p></article></article></div><div class=row><div class=col-xs-12 id=disqus_thread></div></div><script>var disqus_config = function () {
  this.page.url = "https://vertx.io/preview/blog/vert-x3-says-hello-to-npm-users/";
  this.page.identifier = "/blog/vert-x3-says-hello-to-npm-users/";
  };
  (function() { // DON'T EDIT BELOW THIS LINE
  var d = document, s = d.createElement('script');
  s.src = 'https://vertx.disqus.com/embed.js';
  s.setAttribute('data-timestamp', +new Date());
  (d.head || d.body).appendChild(s);
  })();</script><noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript></div><footer><div class=container><div class=row><div class="col-xs-4 col-sm-4 col-md-2 col-lg-2"><h2>Eclipse Vert.x</h2><ul class=list-unstyled><li><a href="https://vertx.io/preview/">Home</a></li><li><a href="https://vertx.io/preview/download/">Download</a></li><li><a href="https://vertx.io/preview/docs/">Documentation</a></li><li><a href=https://github.com/vert-x3/wiki/wiki>Wiki</a></li><li><a href="https://vertx.io/preview/blog/">Blog</a></li><li><a href="https://vertx.io/preview/vertx2/" class=vertx-2-link>Vert.x 2</a></li></ul></div><div class="col-xs-4 col-sm-4 col-md-2 col-lg-2"><h2>Community</h2><ul class=list-unstyled><li><a href="https://vertx.io/preview/community/">Help &amp; Contributors</a></li><li><a href="https://vertx.io/preview/materials/">Learning materials</a></li><li><a href=https://groups.google.com/forum/?fromgroups#!forum/vertx>User Group</a></li><li><a href=https://groups.google.com/forum/?fromgroups#!forum/vertx-dev>Developer Group</a></li></ul></div><div class="col-xs-4 col-sm-4 col-md-2 col-lg-2"><h2>Eclipse</h2><ul class=list-unstyled><li><a href="http://www.eclipse.org/">Eclipse Foundation</a></li><li><a href=https://eclipse.org/legal/privacy.php>Privacy Policy</a></li><li><a href=https://eclipse.org/legal/termsofuse.php>Terms of Use</a></li><li><a href=https://eclipse.org/legal/copyright.php>Copyright Agent</a></li><li><a href=http://www.eclipse.org/legal>Legal Resources</a></li></ul></div><div class="col-xs-12 col-sm-12 col-md-6 col-lg-6 copyright"><p>Eclipse Vert.x is open source and dual-licensed under the <a href=http://www.eclipse.org/legal/epl-v20.html>Eclipse Public License 2.0</a> and <a href=https://www.apache.org/licenses/LICENSE-2.0.html>Apache License 2.0</a>.</p><p>This website is licensed under the <a href="http://creativecommons.org/licenses/by-sa/3.0/">CC BY-SA 3.0 License</a>.<br>Design by <a href=https://www.michel-kraemer.com>Michel Kr&auml;mer</a>.</p><div class=row><div class="col-sm-12 col-md-5 col-md-offset-1 col-lg-offset-2"><a href=http://eclipse.org><img class="logo eclipse-logo" src=https://vertx.io/preview/assets/eclipse_logo_grey_small.png width=204 height=48></a></div><div class="col-sm-12 col-md-5 col-md-offset-1 col-lg-offset-0"><a href=http://cloudbees.com><img class="logo cloudbees-logo" src=https://vertx.io/preview/assets/Button-Built-on-CB-1-grey.png width=180 height=48></a></div><div class="col-sm-12 col-md-5 col-md-offset-7 jprofiler"><a href=http://www.ej-technologies.com/products/jprofiler/overview.html style=text-decoration:none><img class="logo jprofiler-logo" src=https://vertx.io/preview/assets/jprofiler-logo.png width=48 height=48><span class=jprofiler-logo>&nbsp; JPROFILER</span></a></div></div></div></div></div></footer><script src=https://cdnjs.cloudflare.com/ajax/libs/jquery/1.9.1/jquery.min.js></script><script src=https://vertx.io/preview/javascripts/bootstrap.min.js></script><script src=https://vertx.io/preview/javascripts/highlight.pack.js></script><script>hljs.initHighlightingOnLoad();</script></body></html>