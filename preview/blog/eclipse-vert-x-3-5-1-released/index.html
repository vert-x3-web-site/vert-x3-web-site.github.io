<!DOCTYPE html><html lang=en><head><title>Eclipse Vert.x 3.5.1 released!</title><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta content="width=device-width,initial-scale=1" name=viewport><meta content="Eclipse Vert.x is a tool-kit for building reactive applications on the JVM." name=description><link href=https://vertx.io/preview/stylesheets/main.css media=screen rel=stylesheet><link href=https://vertx.io/preview/stylesheets/font-awesome.min.css media=screen rel=stylesheet><link href=https://vertx.io/preview/javascripts/styles/rainbow.min.css media=screen rel=stylesheet><!--[if lt IE 9]><script src="http://static.jboss.org/theme/js/libs/html5/pre3.6/html5.min.js"></script><![endif]--><link rel=apple-touch-icon sizes=57x57 href=https://vertx.io/preview/assets/favicons/vertx-favicon-7/apple-touch-icon-57x57.png><link rel=apple-touch-icon sizes=60x60 href=https://vertx.io/preview/assets/favicons/vertx-favicon-7/apple-touch-icon-60x60.png><link rel=apple-touch-icon sizes=72x72 href=https://vertx.io/preview/assets/favicons/vertx-favicon-7/apple-touch-icon-72x72.png><link rel=apple-touch-icon sizes=76x76 href=https://vertx.io/preview/assets/favicons/vertx-favicon-7/apple-touch-icon-76x76.png><link rel=apple-touch-icon sizes=114x114 href=https://vertx.io/preview/assets/favicons/vertx-favicon-7/apple-touch-icon-114x114.png><link rel=apple-touch-icon sizes=120x120 href=https://vertx.io/preview/assets/favicons/vertx-favicon-7/apple-touch-icon-120x120.png><link rel=apple-touch-icon sizes=144x144 href=https://vertx.io/preview/assets/favicons/vertx-favicon-7/apple-touch-icon-144x144.png><link rel=apple-touch-icon sizes=152x152 href=https://vertx.io/preview/assets/favicons/vertx-favicon-7/apple-touch-icon-152x152.png><link rel=apple-touch-icon sizes=180x180 href=https://vertx.io/preview/assets/favicons/vertx-favicon-7/apple-touch-icon-180x180.png><link rel=icon type=image/png href=https://vertx.io/preview/assets/favicons/vertx-favicon-7/favicon-32x32.png sizes=32x32><link rel=icon type=image/png href=https://vertx.io/preview/assets/favicons/vertx-favicon-7/android-chrome-192x192.png sizes=192x192><link rel=icon type=image/png href=https://vertx.io/preview/assets/favicons/vertx-favicon-7/favicon-96x96.png sizes=96x96><link rel=icon type=image/png href=https://vertx.io/preview/assets/favicons/vertx-favicon-7/favicon-16x16.png sizes=16x16><link rel=manifest href=https://vertx.io/preview/assets/favicons/vertx-favicon-7/manifest.json><link rel=mask-icon href=https://vertx.io/preview/assets/favicons/vertx-favicon-7/safari-pinned-tab.svg color=#5bbad5><meta name=msapplication-TileColor content=#7d3194><meta name=msapplication-TileImage content=https://vertx.io/preview/assets/favicons/vertx-favicon-7/mstile-144x144.png><meta name=theme-color content=#ffffff><link href="https://fonts.googleapis.com/css?family=Ubuntu:400,500,700,400italic" rel=stylesheet type=text/css><link rel=alternate type=application/rss+xml title=RSS href=https://vertx.io/preview/feed.xml><script>(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
    ga('create', 'UA-30144458-1', 'auto');
    ga('create', 'UA-71153120-1', 'auto', 'tracker');
    ga('send', 'pageview');
    ga('tracker.send', 'pageview');</script></head><body><a href="http://www.reactivemanifesto.org/" id=reactive-manifesto-banner><img style="border: 0; position: fixed; right: 0; top:0; z-index: 9000" src=https://d379ifj7s9wntv.cloudfront.net/reactivemanifesto/images/ribbons/we-are-reactive-black-right.png></a> <a id=skippy class="sr-only sr-only-focusable" href=#content><div class=container><span class=skiplink-text>Skip to main content</span></div></a><header class="navbar navbar-default navbar-static-top" id=top role=banner><div class=container><div class=navbar-header><button class="navbar-toggle collapsed" type=button data-toggle=collapse data-target=#vertx-navbar-collapse><span class=sr-only>Toggle navigation</span> <span class=icon-bar></span> <span class=icon-bar></span> <span class=icon-bar></span></button> <a href="https://vertx.io/preview/" class=navbar-brand><img alt=Brand src=https://vertx.io/preview/assets/logo-sm.png></a></div><nav class="collapse navbar-collapse" id=vertx-navbar-collapse><ul class="nav navbar-nav navbar-right"><li><a href=http://start.vertx.io>Starter</a></li><li><a href="https://vertx.io/preview/download/">Download</a></li><li><a href="https://vertx.io/preview/docs/">Documentation</a></li><li><a href=https://github.com/vert-x3/wiki/wiki>Wiki</a></li><li><a href="https://vertx.io/preview/community/">Community</a></li><li><a href="https://vertx.io/preview/materials/">Materials</a></li><li><a href="https://vertx.io/preview/blog/">Blog</a></li></ul></nav></div></header><div class=container><div class="row blog"><article class="col-xs-12 blog-post"><h2 class=blog-post-title>Eclipse Vert.x 3.5.1 released!</h2><p class=blog-post-meta>13th February 2018 by <a href=http://github.com/vietj>vietj</a></p><article><p>We have just released Vert.x 3.5.1!</p><h4 id=fixes-first->Fixes first!</h4><p>As usual this release fixes bugs reported in 3.5.0, see the release notes.</p><h4 id=junit-5-support>JUnit 5 support</h4><p>This release introduces the new <a href=https://github.com/vert-x3/vertx-junit5>vertx-junit5 module</a>.</p><p><a href="http://junit.org/junit5/">JUnit 5</a> is a rewrite of the famous Java testing framework that brings new interesting features, including:</p><ul><li>nested tests,</li><li>the ability to give a human-readable description of tests and test cases (and yes, even use emojis),</li><li>a modular extension mechanism that is more powerful than the JUnit 4 runner mechanism (@RunWith annotation),</li><li>conditional test execution,</li><li>parameterized tests, including from sources such as CSV data,</li><li>the support of Java 8 lambda expressions in the reworked built-in assertions API,</li><li>support for running tests previously written for JUnit 4.</li></ul><p>Suppose that we have a <code>SampleVerticle</code> verticle that exposes a HTTP server on port 11981. Here is how we can test its deployment as well as the result of 10 concurrent HTTP requests:</p><pre><code class=hljs><span class=hljs-property>@Test</span>
<span class=hljs-property>@DisplayName</span>(<span class=hljs-string>"ðŸš€ Deploy a HTTP service verticle and make 10 requests"</span>)
<span class=hljs-literal>void</span> useSampleVerticle(Vertx vertx, VertxTestContext testContext) {
  WebClient webClient = WebClient.create(vertx);
  Checkpoint deploymentCheckpoint = testContext.checkpoint();

  Checkpoint requestCheckpoint = testContext.checkpoint(<span class=hljs-number>10</span>);
  vertx.deployVerticle(<span class=hljs-keyword>new</span> SampleVerticle(), testContext.succeeding(id<span class=hljs-function> -&gt;</span> {
    deploymentCheckpoint.flag();

    <span class=hljs-keyword>for</span> (int i = <span class=hljs-number>0</span>; i &lt; <span class=hljs-number>10</span>; i++) {
      webClient.get(<span class=hljs-number>11981</span>, <span class=hljs-string>"localhost"</span>, <span class=hljs-string>"/"</span>)
        .as(BodyCodec.string())
        .send(testContext.succeeding(resp<span class=hljs-function> -&gt;</span> {
          testContext.verify<span class=hljs-function><span class=hljs-params>(() -&gt; {
            assertThat(resp.statusCode()).isEqualTo(<span class=hljs-number>200</span>);
            assertThat(resp.body()).contains(<span class=hljs-string>"Yo!"</span>);
            requestCheckpoint.flag();
          })</span>;
        }));
    }
  }));
}</span></code></pre><p>The test method above benefits from the injection of a working <code>Vertx</code> context, a <code>VertxTestContext</code> for dealing with asynchronous operations, and the guarantee that the execution time is bound by a timeout which can optionally be configured using a <code>@Timeout</code> annotation.</p><p>The test succeeds when all checkpoints have been flagged. Note that <code>vertx-junit5</code> is agnostic of the assertions library being used: you may opt for the built-in JUnit 5 assertions or use a 3rd-party library such as <a href="http://joel-costigliola.github.io/assertj/">AssertJ</a> as we did in the example above.</p><p>You can checkout the <a href=https://github.com/vert-x3/vertx-junit5>source on GitHub</a>, read <a href="https://vertx.io/preview/docs/vertx-junit5/java/">the manual</a> and learn from <a href=https://github.com/vert-x3/vertx-examples/tree/master/junit5-examples>the examples</a>.</p><h4 id=web-api-contract-enhancements>Web API Contract enhancements</h4><p>The package <code>vertx-web-api-contract</code> includes a variety of fixes, from schema <code>$ref</code> to <a href="http://vertx.io/docs/vertx-web-api-contract/java/">revamped documentation</a>. You can give a look at list of all <a href=https://github.com/vert-x3/vertx-web/pull/802>fixes/improvements here</a> and all <a href=https://github.com/vert-x3/wiki/wiki/3.5.1-Breaking-Changes#vertx-web-api-contracts>breaking changes here</a>.</p><p>From 3.5.1 to load the openapi spec and instantiate the Router you should use new method <code>OpenAPI3RouterFactory.create()</code> that replaces old methods <code>createRouterFactoryFromFile()</code> and <code>createRouterFactoryFromURL()</code>. This new method accepts relative paths, absolute paths, local URL with <code>file://</code> and remote URL with <code>http://</code>. Note that if you want refeer to a file relative to your jarâ€™s root, you can simply use a relative path and the parser will look out the jar and into the jar for the spec.</p><p>From 3.5.1 all settings about <code>OpenAPI3RouterFactory</code> behaviours during router generation are inglobed in a new object called <a href=http://vertx.io/docs/apidocs/io/vertx/ext/web/api/contract/RouterFactoryOptions.html><code>RouterFactoryOptions</code></a>. From this object you can:</p><ul><li>Configure if you want to mount a default validation failure handler and which one (methods <code>setMountValidationFailureHandler(boolean)</code> and <code>setValidationFailureHandler(Handler)</code>)</li><li>Configure if you want to mount a default 501 not implemented handler and which one (methods <code>setMountNotImplementedFailureHandler(boolean)</code> and <code>setNotImplementedFailureHandler(Handler)</code>)</li><li>Configure if you want to mount <code>ResponseContentTypeHandler</code> automatically (method <code>setMountResponseContentTypeHandler(boolean)</code>)</li><li>Configure if you want to fail during router generation when security handlers are not configured (method <code>setRequireSecurityHandlers(boolean)</code>)</li></ul><p>After initialization of route, you can mount the <code>RouterFactoryOptions</code> object with method <code>routerFactory.setOptions()</code> when you want before calling <code>getRouter()</code>.</p><h4 id=rxjava-deprecation-removal>RxJava deprecation removal</h4><p>It is important to know that 3.5.x will be the last release with the legacy <code>xyzObservable()</code> methods:</p><pre><code class=hljs><span class=hljs-annotation>@Deprecated</span>()
<span class=hljs-function><span class=hljs-keyword>public</span> Observable&lt;HttpServer&gt; <span class=hljs-title>listenObservable</span><span class=hljs-params>(<span class=hljs-keyword>int</span> port, String host)</span></span>;</code></pre><p>has been replaced since Vert.x 3.4 by:</p><pre><code class=hljs><span class=hljs-function><span class=hljs-keyword>public</span> Single&lt;HttpServer&gt; <span class=hljs-title>rxListen</span><span class=hljs-params>(<span class=hljs-keyword>int</span> port, String host)</span></span>;</code></pre><p>The <code>xyzObservable()</code> deprecated methods will be <a href=https://github.com/vert-x3/vertx-rx/issues/113>removed</a> in Vert.x 3.6.</p><h4 id=wrap-up>Wrap up</h4><p>Vert.x 3.5.1 release notes and breaking changes:</p><ul><li><a href=https://github.com/vert-x3/wiki/wiki/3.5.1-Release-Notes>https://github.com/vert-x3/wiki/wiki/3.5.1-Release-Notes</a></li><li><a href=https://github.com/vert-x3/wiki/wiki/3.5.1-Breaking-Changes>https://github.com/vert-x3/wiki/wiki/3.5.1-Breaking-Changes</a></li></ul><p>The event bus client using the SockJS bridge are available from NPM, Bower and as a WebJar:</p><ul><li><a href=https://www.npmjs.com/package/vertx3-eventbus-client>https://www.npmjs.com/package/vertx3-eventbus-client</a></li><li><a href=https://github.com/vert-x3/vertx-bus-bower>https://github.com/vert-x3/vertx-bus-bower</a></li><li><a href="http://www.webjars.org/">http://www.webjars.org/</a></li></ul><p>Docker images are also available on the <a href="https://hub.docker.com/u/vertx/">Docker Hub</a>. The Vert.x distribution is also available from <a href=http://sdkman.io/index.html>SDKMan</a> and <a href="http://brew.sh/">HomeBrew</a>.</p><p>The artifacts have been deployed to <a href=http://search.maven.org/#search%7Cga%7C1%7Cg%3A%22io.vertx%22%20AND%20v%3A%223.5.1%22>Maven Central</a> and you can get the distribution on <a href=https://bintray.com/vertx/downloads/distribution/3.3.3/view>Bintray</a>.</p><p>Happy coding !</p></article></article></div><div class=row><div class=col-xs-12 id=disqus_thread></div></div><script>var disqus_config = function () {
  this.page.url = "https://vertx.io/preview/blog/eclipse-vert-x-3-5-1-released/";
  this.page.identifier = "/blog/eclipse-vert-x-3-5-1-released/";
  };
  (function() { // DON'T EDIT BELOW THIS LINE
  var d = document, s = d.createElement('script');
  s.src = 'https://vertx.disqus.com/embed.js';
  s.setAttribute('data-timestamp', +new Date());
  (d.head || d.body).appendChild(s);
  })();</script><noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript></div><footer><div class=container><div class=row><div class="col-xs-4 col-sm-4 col-md-2 col-lg-2"><h2>Eclipse Vert.x</h2><ul class=list-unstyled><li><a href="https://vertx.io/preview/">Home</a></li><li><a href="https://vertx.io/preview/download/">Download</a></li><li><a href="https://vertx.io/preview/docs/">Documentation</a></li><li><a href=https://github.com/vert-x3/wiki/wiki>Wiki</a></li><li><a href="https://vertx.io/preview/blog/">Blog</a></li><li><a href="https://vertx.io/preview/vertx2/" class=vertx-2-link>Vert.x 2</a></li></ul></div><div class="col-xs-4 col-sm-4 col-md-2 col-lg-2"><h2>Community</h2><ul class=list-unstyled><li><a href="https://vertx.io/preview/community/">Help &amp; Contributors</a></li><li><a href="https://vertx.io/preview/materials/">Learning materials</a></li><li><a href=https://groups.google.com/forum/?fromgroups#!forum/vertx>User Group</a></li><li><a href=https://groups.google.com/forum/?fromgroups#!forum/vertx-dev>Developer Group</a></li></ul></div><div class="col-xs-4 col-sm-4 col-md-2 col-lg-2"><h2>Eclipse</h2><ul class=list-unstyled><li><a href="http://www.eclipse.org/">Eclipse Foundation</a></li><li><a href=https://eclipse.org/legal/privacy.php>Privacy Policy</a></li><li><a href=https://eclipse.org/legal/termsofuse.php>Terms of Use</a></li><li><a href=https://eclipse.org/legal/copyright.php>Copyright Agent</a></li><li><a href=http://www.eclipse.org/legal>Legal Resources</a></li></ul></div><div class="col-xs-12 col-sm-12 col-md-6 col-lg-6 copyright"><p>Eclipse Vert.x is open source and dual-licensed under the <a href=http://www.eclipse.org/legal/epl-v20.html>Eclipse Public License 2.0</a> and <a href=https://www.apache.org/licenses/LICENSE-2.0.html>Apache License 2.0</a>.</p><p>This website is licensed under the <a href="http://creativecommons.org/licenses/by-sa/3.0/">CC BY-SA 3.0 License</a>.<br>Design by <a href=https://www.michel-kraemer.com>Michel Kr&auml;mer</a>.</p><div class=row><div class="col-sm-12 col-md-5 col-md-offset-1 col-lg-offset-2"><a href=http://eclipse.org><img class="logo eclipse-logo" src=https://vertx.io/preview/assets/eclipse_logo_grey_small.png width=204 height=48></a></div><div class="col-sm-12 col-md-5 col-md-offset-1 col-lg-offset-0"><a href=http://cloudbees.com><img class="logo cloudbees-logo" src=https://vertx.io/preview/assets/Button-Built-on-CB-1-grey.png width=180 height=48></a></div><div class="col-sm-12 col-md-5 col-md-offset-7 jprofiler"><a href=http://www.ej-technologies.com/products/jprofiler/overview.html style=text-decoration:none><img class="logo jprofiler-logo" src=https://vertx.io/preview/assets/jprofiler-logo.png width=48 height=48><span class=jprofiler-logo>&nbsp; JPROFILER</span></a></div></div></div></div></div></footer><script src=https://cdnjs.cloudflare.com/ajax/libs/jquery/1.9.1/jquery.min.js></script><script src=https://vertx.io/preview/javascripts/bootstrap.min.js></script><script src=https://vertx.io/preview/javascripts/highlight.pack.js></script><script>hljs.initHighlightingOnLoad();</script></body></html>