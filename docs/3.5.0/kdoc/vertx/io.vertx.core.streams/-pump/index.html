<HTML>
<HEAD>
<meta charset="UTF-8">
<title>Pump - vertx</title>
<link rel="stylesheet" href="../../../style.css">
</HEAD>
<BODY>
<a href="../../index.html">vertx</a>&nbsp;/&nbsp;<a href="../index.html">io.vertx.core.streams</a>&nbsp;/&nbsp;<a href=".">Pump</a><br/>
<br/>
<h1>Pump</h1>
<code><span class="keyword">interface </span><span class="identifier">Pump</span></code>
<p>Pumps data from a ReadStream to a WriteStream and performs flow control where necessary to prevent the write stream buffer from getting overfull. 
<p> Instances of this class read items from a ReadStream and write them to a WriteStream. If data can be read faster than it can be written this could result in the write queue of the WriteStream growing without bound, eventually causing it to exhaust all available RAM. </p>
<p> To prevent this, after each write, instances of this class check whether the write queue of the is full, and if so, the ReadStream is paused, and a <code>drainHandler</code> is set on the WriteStream. </p>
<p> When the WriteStream has processed half of its backlog, the <code>drainHandler</code> will be called, which results in the pump resuming the ReadStream. </p>
<p> This class can be used to pump from any ReadStream to any WriteStream, e.g. from an io.vertx.core.http.HttpServerRequest to an io.vertx.core.file.AsyncFile, or from io.vertx.core.net.NetSocket to a io.vertx.core.http.WebSocket. </p>
<p> Please see the documentation for more information.</p>
</p>
<p><strong>Author</strong><br/>
<a href="#">Tim Fox</a></p>
<h3>Properties</h3>
<table>
<tbody>
<tr>
<td>
<p><a href="factory.html">factory</a></p>
</td>
<td>
<code><span class="keyword">static</span> <span class="keyword">val </span><span class="identifier">factory</span><span class="symbol">: </span><span class="identifier">PumpFactory</span></code></td>
</tr>
</tbody>
</table>
<h3>Functions</h3>
<table>
<tbody>
<tr>
<td>
<p><a href="number-pumped.html">numberPumped</a></p>
</td>
<td>
<code><span class="keyword">abstract</span> <span class="keyword">fun </span><span class="identifier">numberPumped</span><span class="symbol">(</span><span class="symbol">)</span><span class="symbol">: </span><a href="https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-int/index.html"><span class="identifier">Int</span></a></code>
<p>Return the total number of items pumped by this pump.</p>
</td>
</tr>
<tr>
<td>
<p><a href="pump.html">pump</a></p>
</td>
<td>
<code><span class="keyword">open</span> <span class="keyword">static</span> <span class="keyword">fun </span><span class="symbol">&lt;</span><span class="identifier">T</span>&nbsp;<span class="symbol">:</span>&nbsp;<a href="https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-any/index.html"><span class="identifier">Any</span></a><span class="symbol">&gt;</span> <span class="identifier">pump</span><span class="symbol">(</span><span class="identifier" id="io.vertx.core.streams.Pump$pump(io.vertx.core.streams.ReadStream((io.vertx.core.streams.Pump.pump.T)), io.vertx.core.streams.WriteStream((io.vertx.core.streams.Pump.pump.T)))/rs">rs</span><span class="symbol">:</span>&nbsp;<span class="identifier">ReadStream</span><span class="symbol">&lt;</span><span class="identifier">T</span><span class="symbol">&gt;</span><span class="symbol">, </span><span class="identifier" id="io.vertx.core.streams.Pump$pump(io.vertx.core.streams.ReadStream((io.vertx.core.streams.Pump.pump.T)), io.vertx.core.streams.WriteStream((io.vertx.core.streams.Pump.pump.T)))/ws">ws</span><span class="symbol">:</span>&nbsp;<span class="identifier">WriteStream</span><span class="symbol">&lt;</span><span class="identifier">T</span><span class="symbol">&gt;</span><span class="symbol">)</span><span class="symbol">: </span><span class="identifier">Pump</span></code>
<p>Create a new <code>Pump</code> with the given <code>ReadStream</code> and <code>WriteStream</code></p>
<code><span class="keyword">open</span> <span class="keyword">static</span> <span class="keyword">fun </span><span class="symbol">&lt;</span><span class="identifier">T</span>&nbsp;<span class="symbol">:</span>&nbsp;<a href="https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-any/index.html"><span class="identifier">Any</span></a><span class="symbol">&gt;</span> <span class="identifier">pump</span><span class="symbol">(</span><span class="identifier" id="io.vertx.core.streams.Pump$pump(io.vertx.core.streams.ReadStream((io.vertx.core.streams.Pump.pump.T)), io.vertx.core.streams.WriteStream((io.vertx.core.streams.Pump.pump.T)), kotlin.Int)/rs">rs</span><span class="symbol">:</span>&nbsp;<span class="identifier">ReadStream</span><span class="symbol">&lt;</span><span class="identifier">T</span><span class="symbol">&gt;</span><span class="symbol">, </span><span class="identifier" id="io.vertx.core.streams.Pump$pump(io.vertx.core.streams.ReadStream((io.vertx.core.streams.Pump.pump.T)), io.vertx.core.streams.WriteStream((io.vertx.core.streams.Pump.pump.T)), kotlin.Int)/ws">ws</span><span class="symbol">:</span>&nbsp;<span class="identifier">WriteStream</span><span class="symbol">&lt;</span><span class="identifier">T</span><span class="symbol">&gt;</span><span class="symbol">, </span><span class="identifier" id="io.vertx.core.streams.Pump$pump(io.vertx.core.streams.ReadStream((io.vertx.core.streams.Pump.pump.T)), io.vertx.core.streams.WriteStream((io.vertx.core.streams.Pump.pump.T)), kotlin.Int)/writeQueueMaxSize">writeQueueMaxSize</span><span class="symbol">:</span>&nbsp;<a href="https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-int/index.html"><span class="identifier">Int</span></a><span class="symbol">)</span><span class="symbol">: </span><span class="identifier">Pump</span></code>
<p>Create a new <code>Pump</code> with the given <code>ReadStream</code> and <code>WriteStream</code> and <code>writeQueueMaxSize</code></p>
</td>
</tr>
<tr>
<td>
<p><a href="set-write-queue-max-size.html">setWriteQueueMaxSize</a></p>
</td>
<td>
<code><span class="keyword">abstract</span> <span class="keyword">fun </span><span class="identifier">setWriteQueueMaxSize</span><span class="symbol">(</span><span class="identifier" id="io.vertx.core.streams.Pump$setWriteQueueMaxSize(kotlin.Int)/maxSize">maxSize</span><span class="symbol">:</span>&nbsp;<a href="https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-int/index.html"><span class="identifier">Int</span></a><span class="symbol">)</span><span class="symbol">: </span><span class="identifier">Pump</span></code>
<p>Set the write queue max size to <code>maxSize</code></p>
</td>
</tr>
<tr>
<td>
<p><a href="start.html">start</a></p>
</td>
<td>
<code><span class="keyword">abstract</span> <span class="keyword">fun </span><span class="identifier">start</span><span class="symbol">(</span><span class="symbol">)</span><span class="symbol">: </span><span class="identifier">Pump</span></code>
<p>Start the Pump. The Pump can be started and stopped multiple times.</p>
</td>
</tr>
<tr>
<td>
<p><a href="stop.html">stop</a></p>
</td>
<td>
<code><span class="keyword">abstract</span> <span class="keyword">fun </span><span class="identifier">stop</span><span class="symbol">(</span><span class="symbol">)</span><span class="symbol">: </span><span class="identifier">Pump</span></code>
<p>Stop the Pump. The Pump can be started and stopped multiple times.</p>
</td>
</tr>
</tbody>
</table>
</BODY>
</HTML>
